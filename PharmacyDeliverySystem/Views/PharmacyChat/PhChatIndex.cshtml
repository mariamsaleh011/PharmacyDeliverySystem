@model IEnumerable<PharmacyDeliverySystem.Models.Chat>

<h2>Customer Chats</h2>

<table class="table table-bordered">
    <tr>
        <th>Chat ID</th>
        <th>Customer</th>
        <th>Order</th>
        <th>Messages</th>
        <th>Action</th>
    </tr>

@foreach (var chat in Model)
{
    <tr>
        <td>@chat.ChatId</td>
        <td>@chat.Customer?.Name</td>
        <td>@chat.Order?.OrderId</td>
        <td>@chat.ChatMessages.Count()</td>
        <td>
            <a class="btn btn-primary"
               href="@Url.Action("Chat","PharmacyChat", new { id = chat.ChatId })">
                Open
            </a>
        </td>
    </tr>
}
</table>
